{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-05T15:32:04.319Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 4,
    "implemented": 3,
    "items": [
      {
        "id": "REQ-5",
        "summary": "Fix the subscription purchase flow so payment confirmation reliably activates Premium/Pro for registered users (resolve the current “paying is not working” issue). Ensure the backend authorization state allows a newly registered user to call subscription APIs without trapping as unauthorized.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-6",
        "summary": "Add explicit payment method options in the Checkout UI for INR subscriptions: Razorpay, Google Pay (GPay), and PhonePe. The page must present these as clear selectable options and guide the user through completing payment for the selected tier amount.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/CheckoutPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/pages/CheckoutPage.tsx"
        ]
      },
      {
        "id": "REQ-7",
        "summary": "Implement UPI intent/deep-link support for Google Pay (GPay) and PhonePe on the Checkout page using the configured receiver UPI ID and the correct plan amount, so that tapping the button opens the corresponding UPI app when available (and gracefully falls back to copy-to-clipboard if not).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/utils/upi.ts",
          "frontend/src/pages/CheckoutPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/utils/upi.ts",
          "frontend/src/pages/CheckoutPage.tsx"
        ]
      },
      {
        "id": "REQ-8",
        "summary": "Capture the user’s payment reference / transaction ID during confirmation and persist it in the backend as part of the subscription activation record (so support can audit what the user entered). Update the API surface as needed and keep the frontend confirmation form wired to the backend call.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/pages/CheckoutPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/pages/CheckoutPage.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "caffeine.lock.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/pages/CheckoutPage.tsx",
    "frontend/src/utils/upi.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}